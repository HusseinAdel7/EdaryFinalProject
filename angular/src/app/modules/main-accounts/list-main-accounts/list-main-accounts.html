<div *ngIf="accounts?.length > 0; else noData">
  <div class="table-wrapper">
    <table class="table" id="tblGrid">
      <thead>
        <tr>
          <th>Account Number</th>
          <th>Account Name</th>
          <th>Account Name En</th>
          <th>Title</th>
          <th>Title En</th>
          <th>Transferred To</th>
          <th>Status</th>
          <th>Created Date</th>
        </tr>
      </thead>

      <tbody>
        <ng-container *ngFor="let account of accounts; trackBy: trackById">
          <tr>
            <td data-label="Account Number">{{ account.accountNumber || '-' }}</td>
            <td data-label="Account Name" class="rtl">{{ account.accountName || '-' }}</td>
            <td data-label="Account Name En">{{ account.accountNameEn || '-' }}</td>
            <td data-label="Title">{{ account.title || '-' }}</td>
            <td data-label="Title En">{{ account.titleEn || '-' }}</td>
            <td data-label="Transferred To">{{ account.transferredTo || '-' }}</td>
            <td data-label="Status">
              <span
                class="status"
                [class.active]="account.isActive"
                [class.inactive]="!account.isActive">
                {{ account.isActive ? 'Active' : 'Inactive' }}
              </span>
            </td>
            <td data-label="Created Date">
              {{ account.createdDate | date:'medium' }}
            </td>
          </tr>

          <!-- Optional: Children accounts -->
          <ng-container *ngIf="account.children?.length > 0">
            <tr *ngFor="let child of account.children" class="child-row">
              <td data-label="Account Number">{{ child.accountNumber || '-' }}</td>
              <td data-label="Account Name" class="rtl">{{ child.accountName || '-' }}</td>
              <td data-label="Account Name En">{{ child.accountNameEn || '-' }}</td>
              <td data-label="Title">{{ child.title || '-' }}</td>
              <td data-label="Title En">{{ child.titleEn || '-' }}</td>
              <td data-label="Transferred To">{{ child.transferredTo || '-' }}</td>
              <td data-label="Status">
                <span
                  class="status"
                  [class.active]="child.isActive"
                  [class.inactive]="!child.isActive">
                  {{ child.isActive ? 'Active' : 'Inactive' }}
                </span>
              </td>
              <td data-label="Created Date">
                {{ child.createdDate | date:'medium' }}
              </td>
            </tr>
          </ng-container>
        </ng-container>
      </tbody>
    </table>
  </div>
</div>

<ng-template #noData>
  <div class="alert" role="alert">
    No accounts found
  </div>
</ng-template>